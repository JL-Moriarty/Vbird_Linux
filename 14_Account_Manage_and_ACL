## 14.2.1 新增与删除用户

1) 新增用户 useradd

useradd [-u UID] [-g 初始用户组] [-G 次要用户组] [-mM] [-c 说明栏] [-d 主文件夹绝对路径] [-s shell] 用户账号名

-u 后接UID，是一组数字
-g 后接用户组名，为初始用户组
-G 后接组名，为该用户可加入的组
-M 强制。不要创建用户主文件夹（系统账号默认值）
-m 强制。要创建用户主文件夹（一般账号默认值）
-c /etc/passwd第5列内的说明内容
-d 指定某个目录为主文件夹
-r 创建系统账号
-s 接shell。默认为/bin/bash
-e 后接日期，即账号失效日期
-f 指定密码是否会失效。0会立刻失效，-1为永不失效

2) 给用户设置密码 passwd

passwd [--stdin]   <== 所有人均可使用来改自己的密码
passwd [-l] [-u] [--stdin] [-S] [-n 天数] [-x 天数] [-w 天数] [-i 天数] 账号 <== root 功能

--stdin 可以通来自前一个管道的数据，作为密码输入，对shell script很帮助
-l Lock的意思，会将/etc/shadow第2列加上!，使密码失效
-u 与-l相反，unlock
-S 列出密码相关参数
-n shadow第4个字段，多久不可修改密码天数
-x shadow第5个字段，多久内必须修改密码
-w shadow第6个字段，密码过期前的警告天数
-i shadow第7个字段，密码失效日期

3) 显示账号密码相关参数 chage

chage [-ldEImMW] 账号名

-l 列出该账号的详细密码参数
-d 后接日期，最近一次更改密码的日期
-E 后接日期，账号失效日
-I 后接天数，密码失效日
-m 后接天数，密码最短保留天数
-M 后接天数，密码多久需要更改
-W 后接天数，密码过期前警告日期

4) 更改用户设置 usermod

usermod [-cdegGlsuLU] 用户名

-c 后接账号说明
-d 后接账号主文件夹
-e 后接日期，格式为YYYY-MM-DD
-f 后接天数，为shadow的第7字段
-g 后接初始用户组
-G 后接次要用户组
-a 与-G合用可增加次要用户组的支持
-s 后接shell的实际文件，如/bin/bash
-l 后接账号名，即修改账号名字
-u 后接UID数字
-L 暂将用户密码冻结
-U 将/etc/shadow密码列的!去掉

5) 删除用户数据 userdel

userdel [-r] 用户名

-r 连同用户的主文件夹也一起删除
